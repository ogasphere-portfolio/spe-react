<h1 id="exo-decomposer">Exo decompOser</h1>
<p>Tu te rappelles de cette pr√©sentation en saison 2 ?</p>
<p><img src="docs/slide-decomposer.png" alt="Slide" /></p>
<p>On pr√©sentait l'int√©r√™t de bien d√©composer son code en plusieurs instructions simples afin d'arriver √† ses fins, c'est √† dire la case F3.</p>
<p>D√©sormais, dans cet exercice, tu vas devoir coder le programme qui va lire les instructions et ensuite d√©placer l'√©l√©ment rouge.  <br />
Autrement, tu vas coder un <strong>interpr√©teur</strong> d'un langage de programmation tr√®s simple, qui ne comprend que <strong>3 instructions</strong> :</p>
<ul>
<li>turn left</li>
<li>turn right</li>
<li>move forward</li>
</ul>
<h2 id="etapes">Etapes</h2>
<h3 id="1---board-surfer-snowboarder">1 - Board :surfer: üèÇ</h3>
<h4 id="11---board-simple">1.1 - Board simple</h4>
<p>On va commencer par dessiner la grille, la board, le plateau.</p>
<ul>
<li>d√©clarer la m√©thode <code>drawBoard()</code> dans <code>app</code> permettant de dessiner la board</li>
<li>dans le code HTML, une div ayant l'id <code>board</code> est destin√©e √† contenir le code HTML du plateau/board</li>
<li>partons sur un plateau de 4 lignes et de 6 colonnes</li>
<li>dans la m√©thode <code>drawBoard()</code> cr√©er les div avec les bonnes classes pour avoir ces 4 lignes et 6 colonnes</li>
<li>pour la partie esth√©tique, la feuille de style CSS te fournie tout ce dont tu as besoin</li>
</ul>
<p><img src="docs/board1.png" alt="plateau simple" /></p>
<p><details><summary>Code HTML du plateau</summary></p>
<p><img src="docs/board-html1.png" alt="HTML plateau simple" /></p>
<p></details></p>
<h4 id="12---cases-de-d√©part-et-darriv√©e">1.2 - Cases de d√©part et d'arriv√©e</h4>
<ul>
<li>d√©finir la premi√®re case en haut √† gauche comme d√©part</li>
<li>d√©finir la derni√®re case en bas √† droite comme arriv√©e</li>
<li>dans la m√©thode <code>drawBoard()</code> ajouter les classes CSS permettant de visualiser ces 2 cases</li>
</ul>
<p><img src="docs/board2.png" alt="plateau avec d√©part et arriv√©e" /></p>
<p><details><summary>Code HTML du plateau</summary></p>
<p><img src="docs/board-html2.png" alt="HTML plateau avec d√©part et arriv√©e" /></p>
<p></details></p>
<h4 id="13---curseur--√©l√©ment-rouge">1.3 - Curseur / √©l√©ment rouge</h4>
<ul>
<li>d√©finir la position initiale du curseur rouge comme √©tant la case de d√©part</li>
<li>dans la m√©thode <code>drawBoard()</code> ajouter les classes CSS permettant de visualiser ces 2 cases</li>
</ul>
<p><img src="docs/board3.png" alt="plateau avec curseur" /></p>
<p><details><summary>Code HTML du plateau</summary></p>
<p><img src="docs/board-html3.png" alt="HTML plateau avec curseur" /></p>
<p></details></p>
<h2 id="2---commandes-video_game">2 - Commandes üéÆ</h2>
<h3 id="21---avancer">2.1 - Avancer</h3>
<ul>
<li>cr√©er une m√©thode <code>moveForward()</code> permettant d'avancer le curseur<ul>
<li>pour avancer, il faut savoir dans quelle direction le curseur est orient√©</li>
<li>par d√©faut, le curseur est orient√© vers la droite</li>
<li>la position du curseur va √™tre modifi√©e par la m√©thode <code>moveForward()</code></li></ul></li>
<li>pour tester, appeler cette m√©thode avant l'appel √† la m√©thode <code>drawBoard()</code><ul>
<li>et v√©rifier que le curseur est bien avanc√© dans la bonne case</li>
<li>si la position est correcte dans le code mais qu'on ne la visualise pas correctement, moifier la m√©thode <code>drawBoard()</code> pour prendre en compte la position actuelle du curseur (cette position va changer dans le temps)</li></ul></li>
</ul>
<p><img src="docs/command1.png" alt="curseur avanc√©" /></p>
<p><details><summary>Code HTML du plateau</summary></p>
<p><img src="docs/command-html1.png" alt="HTML plateau avec curseur avanc√©" /></p>
<p></details></p>
<h3 id="22---touner-√†-droite">2.2 - Touner √† droite</h3>
<ul>
<li>cr√©er une m√©thode <code>turnRight()</code> permettant de changer la direction du curseur<ul>
<li>pour tourner, il faut savoir dans quelle direction le curseur est actuellement orient√©</li>
<li>la position du curseur n'est pas modifi√©e</li></ul></li>
<li>pour tester, appeler cette m√©thode avant l'appel √† la m√©thode <code>drawBoard()</code>, et apr√®s <code>moveForward()</code><ul>
<li>et v√©rifier que le curseur a bien avanc√© dans la bonne case</li>
<li>et que son orientation est bien vers le bas</li>
<li>si l'orientation est correcte dans le code mais qu'on ne la visualise pas correctement, moifier la m√©thode <code>drawBoard()</code> pour prendre en compte l'orientation actuelle du curseur (des classes CSS permettent de repr√©senter l'orientation du curseur)</li></ul></li>
</ul>
<p><img src="docs/command2.png" alt="curseur √† droite" /></p>
<p><details><summary>Code HTML du plateau</summary></p>
<p><img src="docs/command-html2.png" alt="HTML plateau avec curseur tourn√© vers le bas" /></p>
<p></details></p>
<h3 id="23---touner-√†-gauche">2.3 - Touner √† gauche</h3>
<ul>
<li>cr√©er une m√©thode <code>turnLeft()</code> permettant de changer la direction du curseur</li>
<li>apr√®s avoir tourn√© √† droite pour tester <code>turnRight()</code><ul>
<li>avancer</li>
<li>puis tester la m√©thode <code>turnLeft()</code></li></ul></li>
</ul>
<p><img src="docs/command3.png" alt="curseur √† left" /></p>
<p><details><summary>Code HTML du plateau</summary></p>
<p><img src="docs/command-html3.png" alt="HTML plateau avec curseur tourn√© vers la droite" /></p>
<p></details></p>
<h3 id="24---tests">2.4 - Tests</h3>
<ul>
<li>effectues plusieurs tests pour v√©rifier que les m√©thodes cr√©√©es ont le comportement souhait√©</li>
</ul>
<h2 id="3---interpr√©ter-le-langage-computer">3 - Interpr√©ter le langage üíª</h2>
<h3 id="31---lancer-linterpr√©teur">3.1 - Lancer l'interpr√©teur</h3>
<ul>
<li>au click sur le bouton <em>Launch script</em>, tu dois dire √† JS d'ex√©cuter la m√©thode <code>handleLaunchScriptButton()</code> fournie</li>
<li>r√©cup√©rer le contenu du textarea</li>
<li>s√©parer chaque ligne du code =&gt; r√©cup√©rer un "tableau de lignes"<ul>
<li>une m√©thode Javascript te permet de faire cela facilement, √† toi de trouver üòâ</li></ul></li>
<li>stocker le tableau de lignes dans une variable nomm√©e <code>codeLines</code></li>
<li>laisser le code suivant √† la fin de cette m√©thode<ul>
<li>ce code permettra de boucler sur tout les lignes</li></ul></li>
</ul>
<p><details><summary>Code √† laisser tel quel</summary></p>
<pre><code class="hljs js language-js">    <span class="hljs-comment">// Appel, apr√®s 2sec, la m√©thode codeLineLoop() avec la variable et l&#x27;index de d√©part (0)</span>
    <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
      app.<span class="hljs-title function_">codeLineLoop</span>(codeLines, <span class="hljs-number">0</span>);
    }, <span class="hljs-number">2000</span>);
</code></pre>
<p></details></p>
<h3 id="32---interpr√©ter">3.2 - Interpr√©ter</h3>
<ul>
<li>dans la m√©thode <code>codeLineLoop()</code> fournie<ul>
<li>interpr√©ter chaque ligne de code</li>
<li>effectuer l'action selon le code</li></ul></li>
<li>laisser le code suivant √† la fin de la m√©thode <code>codeLineLoop()</code><ul>
<li>car elle s'occupe de boucler sur les lignes puis, une fois les lignes parcourues, lancer la m√©thode g√©rant la victoire ou non</li>
<li>et aussi, car √ßa permet d'afficher la board apr√®s chaque "mouvement"</li></ul></li>
</ul>
<p><details><summary>Code √† laisser tel quel</summary></p>
<pre><code class="hljs js language-js">    <span class="hljs-comment">// Increment</span>
    index++;

    <span class="hljs-comment">// if still a line to interpret</span>
    <span class="hljs-keyword">if</span> (index &lt; codeLines.<span class="hljs-property">length</span>) {
      <span class="hljs-comment">// Recall same method (=&gt; make a loop)</span>
      <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        app.<span class="hljs-title function_">codeLineLoop</span>(codeLines, index);
      }, <span class="hljs-number">1000</span>);
    } <span class="hljs-keyword">else</span> {
      <span class="hljs-variable language_">window</span>.<span class="hljs-built_in">setTimeout</span>(<span class="hljs-keyword">function</span>(<span class="hljs-params"></span>) {
        app.<span class="hljs-title function_">checkSuccess</span>();
      }, <span class="hljs-number">1000</span>);
    }
</code></pre>
<p></details></p>
<h3 id="33---erreurs">3.3 - Erreurs</h3>
<ul>
<li>dans la m√©thode <code>codeLineLoop()</code><ul>
<li>l'instruction not√©e dans le textarea peut ne pas √™tre une des commandes du code</li>
<li>dans ce cas, arr√™ter la "boucle" et afficher une erreur</li></ul></li>
</ul>
<h2 id="4---you-win--fireworks">4 - You win ! üéÜ</h2>
<ul>
<li>une fois la "boucle" termin√©e</li>
<li>la m√©thode fournie <code>checkSuccess()</code> est appel√©e</li>
<li>cette m√©thode va tester si le curseur est bien dans la case d'arriv√©e<ul>
<li>si oui =&gt; you win !</li>
<li>si non =&gt; you loose ‚Ä¶</li></ul></li>
</ul>
<h2 id="5---faut-pas-d√©border-pencil2">5 - Faut pas d√©border ‚úèÔ∏è</h2>
<ul>
<li>au moment d'avancer, il faut tester si on est pas sorti du cadre</li>
<li>et si c'est le cas, afficher une erreur et arr√™ter le script</li>
</ul>
<h2 id="6---al√©atoire-twisted_rightwards_arrows">6 - Al√©atoire üîÄ</h2>
<ul>
<li>rendre la case de d√©part al√©atoire</li>
<li>rendre la case d'arriv√©e al√©atoire</li>
</ul>
<h1 id="bonus-rainbow">Bonus üåà</h1>
<p>Au choix, dans l'ordre voulu üòâ</p>
<ul>
<li>pouvoir relancer le script sans recharger la page</li>
<li>autoriser des lignes vides dans le code</li>
<li>autoriser des commentaires dans le code</li>
</ul>